<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Echo AIO API: Getting Started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="EchoLogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Echo AIO API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Getting Started </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_C__proj_AIO_AIOCommon_Doxygen_README"></a> Welcome to the Echo API library documentation! This page serves as a guide to help you get started with our API library. Our API library provides a collection of functions and tools to help you integrate the AIO seamlessly into your testing procedures.</p>
<p >This guide will help you get up and running quickly by walking you through the necessary steps to download and install the API library, and show you how to make your first API call. We'll also provide an overview of the available endpoints, parameters, and responses, so you can start using our library with confidence.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Step 1 Download the latest software</h2>
<p >Download the lasted version of AIO software package here: <a href="https://echotm.com/library/">Echo Library</a>.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Step 2 See the example code and read the documentation</h2>
<p >Echo's API can be used with both C++ and Python, Below are some basic examples of getting starting making calls to the Echo API <br  />
 More detailed example can be found in the documentation under the different modules<br  />
 You can also find example and out Python API interface files at <a href="https://github.com/mattgonzalez/EchoAIOExample">Echo Github</a></p>
<p >Example of using the Echo AIO API with Python:</p>
<div class="fragment"><div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment"># ctypes provides C compatible data types, and allows calling functions in DLLs or shared libraries.</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="keyword">import</span> ctypes</div>
<div class="line"><span class="keyword">import</span> EchoAIOInterface</div>
<div class="line"> </div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#    Change the following path to the location of EchoAIOInterface.dll.</span></div>
<div class="line"><span class="comment">#    The default location is C:\Progam Files\Echo AIO\CLI + API\EchoAIOInterface.dll</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line">path = <span class="stringliteral">&#39;C:\Program Files\Echo AIO\CLI + API\EchoAIOInterface.dll&#39;</span></div>
<div class="line">echoaio = ctypes.WinDLL(path)</div>
<div class="line"> </div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#    Call AIO_initiatlize() before  calling any other function to set up the library.</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line">echoaio.AIO_initialize()</div>
<div class="line"> </div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#    AIO_setInputGain</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#    Parameters</span></div>
<div class="line"><span class="comment">#        inputChannel    Input channel number, starting at 0</span></div>
<div class="line"><span class="comment">#        gain            Gain value (1, 10, or 100)</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#    Returns 0 if successful</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line">inputChannel = 2  <span class="comment"># MIC3</span></div>
<div class="line">gain = 100        <span class="comment"># 100X Gain</span></div>
<div class="line"><span class="keywordflow">if</span> (echoaio.AIO_setInputGain(inputChannel, gain) == 0):</div>
<div class="line">    print(<span class="stringliteral">&quot;Input channel &quot;</span> + str(inputChannel + 1) + <span class="stringliteral">&quot; gain set to &quot;</span> + str(gain))</div>
<div class="line"><span class="keywordflow">else</span>:</div>
<div class="line">    print(<span class="stringliteral">&quot;Unable to set input channel &quot;</span> + str(inputChannel + 1) + <span class="stringliteral">&quot; gain to &quot;</span> + str(gain))</div>
<div class="line"> </div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#    AIO_setConstantCurrentState</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#    Parameters</span></div>
<div class="line"><span class="comment">#        inputChannel    Input channel number, starting at 0</span></div>
<div class="line"><span class="comment">#        enabled         0 to disable the constant current power, 1 to enable</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#    Returns 0 if successful</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line">inputChannel = 1  <span class="comment"># MIC2</span></div>
<div class="line">enabled = 1       <span class="comment"># Enable constant current power</span></div>
<div class="line"><span class="keywordflow">if</span> (echoaio.AIO_setConstantCurrentState(inputChannel, enabled) == 0):</div>
<div class="line">    print(<span class="stringliteral">&quot;Input channel &quot;</span> + str(inputChannel + 1) + <span class="stringliteral">&quot; CCP enabled&quot;</span>)</div>
<div class="line"><span class="keywordflow">else</span>:</div>
<div class="line">    print(<span class="stringliteral">&quot;Unable to enable CCP on input channel &quot;</span> + str(inputChannel + 1))</div>
<div class="line"> </div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#    AIO_getSampleRate</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#    Returns the current sample rate in Hz</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="keywordflow">if</span> (echoaio.AIO_getSampleRate()):</div>
<div class="line">    print(<span class="stringliteral">&quot;Sample rate is: &quot;</span> + str(echoaio.AIO_getSampleRate()))</div>
<div class="line"><span class="keywordflow">else</span>:</div>
<div class="line">    print(<span class="stringliteral">&quot;Unable to get sample rate&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment"># Read back the AUX_OUT value</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line">auxOutCheckValue = ctypes.c_int(0)</div>
<div class="line">status = echoaio.AIO_getModuleIntParameter(slot, EchoAIOInterface.AIO_COMBO_MODULE_PARAMETER_AUX_OUT, ctypes.byref(auxOutCheckValue))</div>
<div class="line">print(<span class="stringliteral">&quot;AIO_getModuleIntParameter for AIO_COMBO_MODULE_PARAMETER_AUX_OUT   status:&quot;</span> + str(status) + <span class="stringliteral">&quot; value:&quot;</span> + hex(auxOutCheckValue.value))</div>
<div class="line"> </div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment"># Read the AUX_IN value</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line">auxInValue = ctypes.c_int(0)</div>
<div class="line">status = echoaio.AIO_getModuleIntParameter(slot, EchoAIOInterface.AIO_COMBO_MODULE_PARAMETER_AUX_IN, ctypes.byref(auxOutCheckValue))</div>
<div class="line">print(<span class="stringliteral">&quot;AIO_getModuleIntParameter for AIO_COMBO_MODULE_PARAMETER_AUX_IN    status:&quot;</span> + str(status) + <span class="stringliteral">&quot; value:&quot;</span> + hex(auxOutCheckValue.value))</div>
<div class="line"> </div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#    Call AIO_shutdown() before unloading the library to release memory and resources</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line">echoaio.AIO_shutdown.restype = <span class="keywordtype">None</span></div>
<div class="line">echoaio.AIO_shutdown()</div>
</div><!-- fragment --><p> <br  />
 Example of using the Echo AIO API with C++:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;Windows.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;../../EchoAIOInterface.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> libraryAccessDemo(HMODULE handle)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Always call AIO_initialize first</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="keyword">auto</span> pAIO_initialize = GetProcAddress(handle, <span class="stringliteral">&quot;AIO_initialize&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (pAIO_initialize)</div>
<div class="line">    {</div>
<div class="line">        pAIO_initialize();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Unable to find AIO_initialize function&quot;</span>;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Read the input gain setting</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="keyword">using </span>AIO_getInputGainPointer = int (*)(int, <span class="keywordtype">int</span>* <span class="keyword">const</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> inputChannel = 0; <span class="comment">// MIC1</span></div>
<div class="line">    <span class="keyword">auto</span> pAIO_getInputGain = <span class="keyword">reinterpret_cast&lt;</span>AIO_getInputGainPointer<span class="keyword">&gt;</span>(GetProcAddress(handle, <span class="stringliteral">&quot;AIO_getInputGain&quot;</span>));</div>
<div class="line">    <span class="keywordflow">if</span> (pAIO_getInputGain)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> gain = 0;</div>
<div class="line">        <span class="keywordtype">int</span> status = pAIO_getInputGain(inputChannel, &amp;gain);</div>
<div class="line">        <span class="keywordflow">if</span> (ECHO_AIO_OK == status)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Input channel &quot;</span> &lt;&lt; inputChannel + 1 &lt;&lt; <span class="stringliteral">&quot; gain is &quot;</span> &lt;&lt; gain;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Unable to read input gain; error &quot;</span> &lt;&lt; status;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Unable to find AIO_getInputGain function&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Always call AIO_shutdown before unloading the DLL</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keyword">auto</span> pAIO_shutdown = GetProcAddress(handle, <span class="stringliteral">&quot;AIO_shutdown&quot;</span>))</div>
<div class="line">    {</div>
<div class="line">        pAIO_shutdown();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Unable to find AIO_shutdown function&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Load the DLL</span></div>
<div class="line">    <span class="comment">// </span></div>
<div class="line">    <span class="keyword">auto</span> handle = LoadLibrary(L<span class="stringliteral">&quot;c:/aio/EchoAIOInterface.dll&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keyword">nullptr</span> == handle)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Unable to load Echo AIO library&quot;</span>;</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Access the DLL</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    libraryAccessDemo(handle);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Unload the DLL</span></div>
<div class="line">    <span class="comment">//</span></div>
<div class="line">    FreeLibrary(handle);</div>
<div class="line">}</div>
</div><!-- fragment --><p> <br  />
 Visit Echo on the web @ <a href="https://echotm.com/">Echotm</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
